<li class="has-submenu" data-view="dashboard">
  <div class="menu-item">
    <span class="bbs-icon">
      <svg viewBox="0 0 24 24" width="16" height="16">
        <rect x="3" y="3" width="7" height="7" fill="#666"/>
        <rect x="14" y="3" width="7" height="7" fill="#666"/>
        <rect x="3" y="14" width="7" height="7" fill="#666"/>
        <rect x="14" y="14" width="7" height="7" fill="#666"/>
      </svg>
    </span>
    <span class="menu-text">Dashboard</span>
    <span class="submenu-arrow">â–¸</span>
  </div>

  <ul class="submenu">
    <li data-view="dashboard-overview">Overview</li>
    <li data-view="dashboard-kpi">KPI Status</li>
    <li data-view="dashboard-progress">Progress</li>
  </ul>
</li>


.has-submenu > .menu-item {
  display: flex;
  align-items: center;
  justify-content: space-between;
  cursor: pointer;
}

.submenu {
  list-style: none;
  padding: 0;
  margin: 0;
  display: none;
  background: #f0f2f4;
}

.submenu li {
  padding: 12px 20px 12px 60px;
  font-size: 13px;
  color: #555;
  border-bottom: 1px solid #e5e5e5;
}

.submenu li:hover {
  background: #e6e9ed;
}

.has-submenu.open .submenu {
  display: block;
}

.submenu-arrow {
  font-size: 12px;
  transition: transform 0.2s ease;
}

.has-submenu.open .submenu-arrow {
  transform: rotate(90deg);
}

$("#bbsMenu").on("click", "li", function (e) {

  const $li = $(this);

  // If clicking parent with submenu
  if ($li.hasClass("has-submenu")) {

    $li.toggleClass("open");

    e.stopPropagation();
    return;
  }

  // Normal navigation
  $("#bbsMenu li").removeClass("active");
  $li.addClass("active");

  const view = $li.data("view");
  loadView(view);
});

$("#bbsMenu").on("click", ".menu-item", function (e) {

  const $parentLi = $(this).closest(".has-submenu");
  $parentLi.toggleClass("open");

  e.stopPropagation();
});