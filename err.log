
export function calculateCaseStatusFromTransactions(
  transactions: IExistingDisputeRow[]
): string {

  if (!transactions || transactions.length === 0) {
    return "New";
  }

  const statuses = transactions.map(t => t.status);

  if (statuses.every(s => s === "Fully Refunded")) {
    return "Closed â€“ Fully Refunded";
  }

  if (
    statuses.some(s => s === "Partial Refunded") &&
    statuses.every(s => s !== "Pending")
  ) {
    return "Closed â€“ Partially Refunded";
  }

  if (statuses.every(s => s === "Rejected")) {
    return "Rejected";
  }

  return "In Progress";
}